import{S as t,i as e,s,e as l,t as n,k as a,c,a as r,g as o,d as m,n as i,b as h,F as f,f as u,G as d,L as g,h as v,x as p,j as $,m as E,o as w,u as k,v as y,r as L,w as b,U as A,l as I,V as H,W as S,T}from"../../chunks/vendor-67bd6b47.js";function V(t,e,s){const l=t.slice();return l[3]=e[s],l}function j(t){let e,s,$,E,w,y,A,I,H,S,T,V,j,D,N=t[0].user+"",_=t[0].time_ago+"",M=t[0].content+"",B=t[0].comments.length>0&&x(t);return{c(){e=l("article"),s=l("div"),$=l("span"),E=l("a"),w=n(N),A=a(),I=n(_),H=a(),S=l("div"),T=a(),B&&B.c(),this.h()},l(t){e=c(t,"ARTICLE",{class:!0});var l=r(e);s=c(l,"DIV",{class:!0});var n=r(s);$=c(n,"SPAN",{class:!0});var a=r($);E=c(a,"A",{"sveltekit:prefetch":!0,href:!0,class:!0});var h=r(E);w=o(h,N),h.forEach(m),A=i(a),I=o(a,_),a.forEach(m),n.forEach(m),H=i(l),S=c(l,"DIV",{class:!0}),r(S).forEach(m),T=i(l),B&&B.l(l),l.forEach(m),this.h()},h(){h(E,"sveltekit:prefetch",""),h(E,"href",y="/user/"+t[0].user),h(E,"class","svelte-1fwtum2"),h($,"class","meta svelte-1fwtum2"),h(s,"class","meta-bar svelte-1fwtum2"),h(S,"class","body svelte-1fwtum2"),h(e,"class","comment svelte-1fwtum2"),f(e,"hidden",t[1])},m(l,n){u(l,e,n),d(e,s),d(s,$),d($,E),d(E,w),d($,A),d($,I),d(e,H),d(e,S),S.innerHTML=M,d(e,T),B&&B.m(e,null),V=!0,j||(D=g(s,"click",t[2]),j=!0)},p(t,s){(!V||1&s)&&N!==(N=t[0].user+"")&&v(w,N),(!V||1&s&&y!==(y="/user/"+t[0].user))&&h(E,"href",y),(!V||1&s)&&_!==(_=t[0].time_ago+"")&&v(I,_),(!V||1&s)&&M!==(M=t[0].content+"")&&(S.innerHTML=M),t[0].comments.length>0?B?(B.p(t,s),1&s&&p(B,1)):(B=x(t),B.c(),p(B,1),B.m(e,null)):B&&(L(),k(B,1,1,(()=>{B=null})),b()),2&s&&f(e,"hidden",t[1])},i(t){V||(p(B),V=!0)},o(t){k(B),V=!1},d(t){t&&m(e),B&&B.d(),j=!1,D()}}}function x(t){let e,s,n=t[0].comments,a=[];for(let l=0;l<n.length;l+=1)a[l]=D(V(t,n,l));const o=t=>k(a[t],1,1,(()=>{a[t]=null}));return{c(){e=l("ul");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=c(t,"UL",{class:!0});var s=r(e);for(let e=0;e<a.length;e+=1)a[e].l(s);s.forEach(m),this.h()},h(){h(e,"class","children svelte-1fwtum2")},m(t,l){u(t,e,l);for(let s=0;s<a.length;s+=1)a[s].m(e,null);s=!0},p(t,s){if(1&s){let l;for(n=t[0].comments,l=0;l<n.length;l+=1){const c=V(t,n,l);a[l]?(a[l].p(c,s),p(a[l],1)):(a[l]=D(c),a[l].c(),p(a[l],1),a[l].m(e,null))}for(L(),l=n.length;l<a.length;l+=1)o(l);b()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)p(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)k(a[e]);s=!1},d(t){t&&m(e),A(a,t)}}}function D(t){let e,s,n;return s=new M({props:{comment:t[3]}}),{c(){e=l("li"),$(s.$$.fragment),this.h()},l(t){e=c(t,"LI",{class:!0});var l=r(e);E(s.$$.fragment,l),l.forEach(m),this.h()},h(){h(e,"class","svelte-1fwtum2")},m(t,l){u(t,e,l),w(s,e,null),n=!0},p(t,e){const l={};1&e&&(l.comment=t[3]),s.$set(l)},i(t){n||(p(s.$$.fragment,t),n=!0)},o(t){k(s.$$.fragment,t),n=!1},d(t){t&&m(e),y(s)}}}function N(t){let e,s,l=!t[0].deleted&&j(t);return{c(){l&&l.c(),e=I()},l(t){l&&l.l(t),e=I()},m(t,n){l&&l.m(t,n),u(t,e,n),s=!0},p(t,[s]){t[0].deleted?l&&(L(),k(l,1,1,(()=>{l=null})),b()):l?(l.p(t,s),1&s&&p(l,1)):(l=j(t),l.c(),p(l,1),l.m(e.parentNode,e))},i(t){s||(p(l),s=!0)},o(t){k(l),s=!1},d(t){l&&l.d(t),t&&m(e)}}}function _(t,e,s){let{comment:l}=e,n=!1;return t.$$set=t=>{"comment"in t&&s(0,l=t.comment)},[l,n,()=>s(1,n=!n)]}class M extends t{constructor(t){super(),e(this,t,_,N,s,{comment:0})}}function B(t,e,s){const l=t.slice();return l[1]=e[s],l}function C(t){let e,s,a=t[0].domain+"";return{c(){e=l("small"),s=n(a),this.h()},l(t){e=c(t,"SMALL",{class:!0});var l=r(e);s=o(l,a),l.forEach(m),this.h()},h(){h(e,"class","svelte-101ktgy")},m(t,l){u(t,e,l),d(e,s)},p(t,e){1&e&&a!==(a=t[0].domain+"")&&v(s,a)},d(t){t&&m(e)}}}function P(t){let e,s,l=t[0].content+"";return{c(){e=new H,s=I(),this.h()},l(t){e=S(t),s=I(),this.h()},h(){e.a=s},m(t,n){e.m(l,t,n),u(t,s,n)},p(t,s){1&s&&l!==(l=t[0].content+"")&&e.p(l)},d(t){t&&m(s),t&&e.d()}}}function R(t){let e,s;return e=new M({props:{comment:t[1]}}),{c(){$(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){w(e,t,l),s=!0},p(t,s){const l={};1&s&&(l.comment=t[1]),e.$set(l)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function U(t){let e,s,f,g,$,E,w,y,I,H,S,V,j,x,D,N,_,M,U,F,G,W,q=t[0].title+"",z=t[0].points+"",J=t[0].user+"",K=t[0].time_ago+"";document.title=e=t[0].title+" | Svelte Hacker News";let O=t[0].domain&&C(t),Q=t[0].content&&P(t),X=t[0].comments,Y=[];for(let l=0;l<X.length;l+=1)Y[l]=R(B(t,X,l));const Z=t=>k(Y[t],1,1,(()=>{Y[t]=null}));return{c(){s=a(),f=l("div"),g=l("article"),$=l("a"),E=l("h1"),w=n(q),y=a(),O&&O.c(),H=a(),S=l("p"),V=n(z),j=n(" points by "),x=l("a"),D=n(J),_=a(),M=n(K),U=a(),Q&&Q.c(),F=a(),G=l("div");for(let t=0;t<Y.length;t+=1)Y[t].c();this.h()},l(t){T('[data-svelte="svelte-2h655f"]',document.head).forEach(m),s=i(t),f=c(t,"DIV",{});var e=r(f);g=c(e,"ARTICLE",{class:!0});var l=r(g);$=c(l,"A",{class:!0,href:!0});var n=r($);E=c(n,"H1",{class:!0});var a=r(E);w=o(a,q),a.forEach(m),y=i(n),O&&O.l(n),n.forEach(m),H=i(l),S=c(l,"P",{class:!0});var h=r(S);V=o(h,z),j=o(h," points by "),x=c(h,"A",{href:!0});var u=r(x);D=o(u,J),u.forEach(m),_=i(h),M=o(h,K),h.forEach(m),U=i(l),Q&&Q.l(l),l.forEach(m),F=i(e),G=c(e,"DIV",{class:!0});var d=r(G);for(let s=0;s<Y.length;s+=1)Y[s].l(d);d.forEach(m),e.forEach(m),this.h()},h(){h(E,"class","svelte-101ktgy"),h($,"class","main-link svelte-101ktgy"),h($,"href",I=t[0].url),h(x,"href",N="/user/"+t[0].user),h(S,"class","meta svelte-101ktgy"),h(g,"class","item svelte-101ktgy"),h(G,"class","comments svelte-101ktgy")},m(t,e){u(t,s,e),u(t,f,e),d(f,g),d(g,$),d($,E),d(E,w),d($,y),O&&O.m($,null),d(g,H),d(g,S),d(S,V),d(S,j),d(S,x),d(x,D),d(S,_),d(S,M),d(g,U),Q&&Q.m(g,null),d(f,F),d(f,G);for(let s=0;s<Y.length;s+=1)Y[s].m(G,null);W=!0},p(t,[s]){if((!W||1&s)&&e!==(e=t[0].title+" | Svelte Hacker News")&&(document.title=e),(!W||1&s)&&q!==(q=t[0].title+"")&&v(w,q),t[0].domain?O?O.p(t,s):(O=C(t),O.c(),O.m($,null)):O&&(O.d(1),O=null),(!W||1&s&&I!==(I=t[0].url))&&h($,"href",I),(!W||1&s)&&z!==(z=t[0].points+"")&&v(V,z),(!W||1&s)&&J!==(J=t[0].user+"")&&v(D,J),(!W||1&s&&N!==(N="/user/"+t[0].user))&&h(x,"href",N),(!W||1&s)&&K!==(K=t[0].time_ago+"")&&v(M,K),t[0].content?Q?Q.p(t,s):(Q=P(t),Q.c(),Q.m(g,null)):Q&&(Q.d(1),Q=null),1&s){let e;for(X=t[0].comments,e=0;e<X.length;e+=1){const l=B(t,X,e);Y[e]?(Y[e].p(l,s),p(Y[e],1)):(Y[e]=R(l),Y[e].c(),p(Y[e],1),Y[e].m(G,null))}for(L(),e=X.length;e<Y.length;e+=1)Z(e);b()}},i(t){if(!W){for(let t=0;t<X.length;t+=1)p(Y[t]);W=!0}},o(t){Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)k(Y[e]);W=!1},d(t){t&&m(s),t&&m(f),O&&O.d(),Q&&Q.d(),A(Y,t)}}}async function F({page:t,fetch:e}){const s=await e(`https://api.hnpwa.com/v0/item/${t.params.id}.json`);return{props:{item:await s.json()}}}function G(t,e,s){let{item:l}=e;return t.$$set=t=>{"item"in t&&s(0,l=t.item)},[l]}class W extends t{constructor(t){super(),e(this,t,G,U,s,{item:0})}}export{W as default,F as load};
